(this.webpackJsonpconnect4=this.webpackJsonpconnect4||[]).push([[0],{13:function(e,t,n){},8:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n(3),c=n(5),i=n(4),a=n(1),u=n.n(a),l=n(7),o=n.n(l),h=(n(13),n(0));function d(e){var t=e.value?"Red"===e.value?"red":"yellow":"white";return Object(h.jsx)("button",{className:"square "+t,onClick:e.onClick,children:e.winner&&"\u2713"})}var j=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"renderSquare",value:function(e){var t,n=this;return Object(h.jsx)(d,{value:this.props.squares[e],winner:null===(t=this.props.winners)||void 0===t?void 0:t.includes(e),onClick:function(){return n.props.onClick(e)}})}},{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"game-board",children:Array(6).fill().map((function(t,n){return Object(h.jsx)("div",{className:"board-row",children:Array(7).fill().map((function(t,r){return Object(h.jsx)(u.a.Fragment,{children:e.renderSquare(7*n+r)},7*n+r)}))},n)}))})}}]),n}(u.a.Component),f=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={history:[{desc:"Go to start",squares:Array(42).fill(null)}],stepNumber:0,redIsNext:!0,started:!1},s}return Object(s.a)(n,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice();if(!this.calculateWinner(n)&&!n[e]){var r=this.calculateFallCell(n,e);n[r]=this.state.redIsNext?"Red":"Yellow",this.setState({history:t.concat([{desc:n[r]+" in column "+(r-7*Math.floor(r/7)+1)+", row "+(Math.floor(r/7)+1),squares:n}]),stepNumber:t.length,redIsNext:!this.state.redIsNext,started:!0}),!this.calculateWinner(n)&&n.includes(null)||this.setState({started:!1})}}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,redIsNext:e%2===0})}},{key:"calculateFallCell",value:function(e,t){for(var n=t;n<e.length;n+=7){if(!(n+7<e.length))return n;if(e[n+7])return n}}},{key:"calculateWinner",value:function(e){for(var t=function(t){var n=Math.floor(t/7),r=t-7*n;if(e[t]){var s=[t+1,t+2,t+3],c=[t+7,t+14,t+21],i=[t+7+1,t+14+2,t+21+3],a=[t-7+1,t-14+2,t-21+3];if(r<4&&s.reduce((function(n,r){return e[t]===e[r]&&n}),!0))return{v:[t].concat(s)};if(n<3&&c.reduce((function(n,r){return e[t]===e[r]&&n}),!0))return{v:[t].concat(c)};if(r<4&&n<3&&i.reduce((function(n,r){return e[t]===e[r]&&n}),!0))return{v:[t].concat(i)};if(r<4&&n>2&&a.reduce((function(n,r){return e[t]===e[r]&&n}),!0))return{v:[t].concat(a)}}},n=0;n<e.length;n++){var r=t(n);if("object"===typeof r)return r.v}return null}},{key:"render",value:function(){var e,t=this,n=this.state.history,r=n[this.state.stepNumber],s=this.calculateWinner(r.squares),c=n.map((function(e,n){var r=n?"Go to move #"+n+" ("+e.desc+")":e.desc;return Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){return t.jumpTo(n)},children:r})},n)}));return e=s?Object(h.jsxs)("b",{children:[r.squares[s[0]]," wins!"]}):r.squares.includes(null)?"Next move: "+(this.state.redIsNext?"Red":"Yellow"):"Game ended in a draw",Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Connect 4"}),Object(h.jsx)("h3",{children:e}),Object(h.jsxs)("div",{className:"game",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(j,{squares:r.squares,winners:s,onClick:function(e){return t.handleClick(e)}}),Object(h.jsx)(v,{started:this.state.started})]}),Object(h.jsxs)("div",{className:"game-info",children:[c.length>1&&Object(h.jsx)("div",{children:Object(h.jsx)("b",{children:"History:"})}),Object(h.jsx)("ul",{children:c.slice(0,c.length-1)})]})]})]})}}]),n}(u.a.Component),v=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={timer:0},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.props.started&&this.setState((function(e){return{timer:e.timer+1}}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"timer",children:["Game started from ",this.state.timer," sec."]})}}]),n}(u.a.Component);o.a.render(Object(h.jsx)(f,{}),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.0df812f4.chunk.js.map